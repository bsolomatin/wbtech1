package main

import (
	"fmt"
	"strings"
)

/*–ö –∫–∞–∫–∏–º –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞, –∏ –∫–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
var justString string
func someFunc() {
  v := createHugeString(1 << 10)
  justString = v[:100]
}
func main() {
  someFunc()
}
1) –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –±–µ—Ä–µ—Ç—Å—è —Å–ª–∞–π—Å, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –≤–∏—Å–µ—Ç—å –≤ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω–∞ GC –∏–∑-–∑–∞ –Ω–∞–ª–∏—á–∏—è —Å—Å—ã–ª–∫–∏, —á—Ç–æ –≤–µ–¥–µ—Ç –∫ –ø–æ—Ç–µ–Ω—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —É—Ç–µ—á–∫–µ –ø–∞–º—è—Ç–∏
2) justString –æ–±—ä—è–≤–ª–µ–Ω–∞ –∫–∞–∫ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
	a) –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ –≥–æ–Ω–∫–∏
	b) –ñ–µ—Å—Ç–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ/–ù–µ—è–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–Ω–µ —Ç–æ —á—Ç–æ–±—ã –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ, –ø—Ä–æ—Å—Ç–æ –ø–ª–æ—Ö–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, etc)
	–ù–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞–¥–æ —è–≤–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º —Ç–µ—Å—Ç–æ–º
	c) –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–µ–π –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π)
3) –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø–∞–Ω–∏–∫–∞ slice bounds out of range, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ–Ω—å—à–µ 100 —Å–∏–º–≤–æ–ª–æ–≤
4) –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π –∏–ª–∏ –∏–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏, –∑–∞–Ω–∏–º–∞—é—â–∏–º–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –±–∞–π—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä —ç–º–æ–¥–∂–∏) —Å—Ä–µ–∑ –±–∞–π—Ç–æ–≤, –∞ –Ω–µ —Ä—É–Ω, –¥–∞—Å—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
	–∞) –í–µ—Ä–Ω–µ—Ç—Å—è 100 –±–∞–π—Ç, –∞ –Ω–µ 100 —Å–∏–º–≤–æ–ª–æ–≤
	b) –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞, –µ—Å–ª–∏ –æ–Ω –Ω–µ "–≤–º–µ—Å—Ç–∏–ª—Å—è" –ø–æ–ª–Ω–æ—Å—Ç—å—é
*/

func main() {
    fmt.Println(someFunc())
}

func createHugeString(size int) string {
	return strings.Repeat("üéâ", size)
}

func someFunc() string {
	v := createHugeString(1 << 10)
	runes := []rune(v)
	if len(runes) < 100 {
		return string(runes)
	}

	return string(runes[:100])
}
